/*
 * GoPort API
 *
 * The GoPort API extends the Docker Engine API to connect to remote Hosts by serving a context endpoint. It also adds the ability to manage docker-compose projects.  # Errors  The API uses standard HTTP status codes to indicate the success or failure of the API call. The body of the response will be JSON in the following format:  ``` {   \"message\": \"page not found\" } ```
 *
 * API version: 1.0
 * Generated by: OpenAPI Generator (https://openapi-generator.tech)
 */

package openapi

import (
	"net/http"

	"github.com/gin-gonic/gin"
	"gitlab.com/maxmac99/goport/events"
)

// Route is the information for every URI.
type Route struct {
	// Name is the name of this Route.
	Name string
	// Method is the string for the HTTP method. ex) GET, POST etc..
	Method string
	// Pattern is the pattern of the URI.
	Pattern string
	// HandlerFunc is the handler function of this route.
	HandlerFunc gin.HandlerFunc
}

// Routes is the list of the generated Route.
type Routes []Route

// NewRouter returns a new router.
func NewRouter() *gin.Engine {
	router := gin.Default()
	for _, route := range routes {
		switch route.Method {
		case http.MethodGet:
			router.GET(route.Pattern, route.HandlerFunc)
		case http.MethodPost:
			router.POST(route.Pattern, route.HandlerFunc)
		case http.MethodPut:
			router.PUT(route.Pattern, route.HandlerFunc)
		case http.MethodPatch:
			router.PATCH(route.Pattern, route.HandlerFunc)
		case http.MethodDelete:
			router.DELETE(route.Pattern, route.HandlerFunc)
		case http.MethodHead:
			router.HEAD(route.Pattern, route.HandlerFunc)
		}
	}

	return router
}

var routes = Routes{
	{
		"ContainerChanges",
		http.MethodGet,
		"/v1/containers/:id/changes",
		ContainerChangesHandler,
	},

	{
		"ContainerCreate",
		http.MethodPost,
		"/v1/containers/create",
		ContainerCreateHandler,
	},

	{
		"ContainerDelete",
		http.MethodDelete,
		"/v1/containers/:id",
		ContainerDeleteHandler,
	},

	{
		"ContainerExport",
		http.MethodGet,
		"/v1/containers/:id/export",
		ContainerExportHandler,
	},

	{
		"ContainerInspect",
		http.MethodGet,
		"/v1/containers/:id/json",
		ContainerInspectHandler,
	},

	{
		"ContainerKill",
		http.MethodPost,
		"/v1/containers/:id/kill",
		ContainerKillHandler,
	},

	{
		"ContainerList",
		http.MethodGet,
		"/v1/containers/json",
		ContainerListHandler,
	},

	{
		"ContainerLogs",
		http.MethodGet,
		"/v1/containers/:id/logs",
		ContainerLogsHandler,
	},

	{
		"ContainerPause",
		http.MethodPost,
		"/v1/containers/:id/pause",
		ContainerPauseHandler,
	},

	{
		"ContainerPrune",
		http.MethodPost,
		"/v1/containers/prune",
		ContainerPruneHandler,
	},

	{
		"ContainerRename",
		http.MethodPost,
		"/v1/containers/:id/rename",
		ContainerRenameHandler,
	},

	{
		"ContainerResize",
		http.MethodPost,
		"/v1/containers/:id/resize",
		ContainerResizeHandler,
	},

	{
		"ContainerRestart",
		http.MethodPost,
		"/v1/containers/:id/restart",
		ContainerRestartHandler,
	},

	{
		"ContainerStart",
		http.MethodPost,
		"/v1/containers/:id/start",
		ContainerStartHandler,
	},

	{
		"ContainerStats",
		http.MethodGet,
		"/v1/containers/:id/stats",
		ContainerStatsHandler,
	},

	{
		"ContainerStop",
		http.MethodPost,
		"/v1/containers/:id/stop",
		ContainerStopHandler,
	},

	{
		"ContainerTop",
		http.MethodGet,
		"/v1/containers/:id/top",
		ContainerTopHandler,
	},

	{
		"ContainerUnpause",
		http.MethodPost,
		"/v1/containers/:id/unpause",
		ContainerUnpauseHandler,
	},

	{
		"ContainerUpdate",
		http.MethodPost,
		"/v1/containers/:id/update",
		ContainerUpdateHandler,
	},

	{
		"ContainerWait",
		http.MethodPost,
		"/v1/containers/:id/wait",
		ContainerWaitHandler,
	},

	{
		"ContextCreate",
		http.MethodPost,
		"/v1/contexts/:name",
		ContextCreateHandler,
	},

	{
		"ContextDelete",
		http.MethodDelete,
		"/v1/contexts/:name",
		ContextDeleteHandler,
	},

	{
		"ContextInspect",
		http.MethodGet,
		"/v1/contexts/:name/json",
		ContextInspectHandler,
	},

	{
		"ContextList",
		http.MethodGet,
		"/v1/contexts/json",
		ContextListHandler,
	},

	{
		"ContextUpdate",
		http.MethodPost,
		"/v1/contexts/:name/update",
		ContextUpdateHandler,
	},

	{
		"ContainerExec",
		http.MethodPost,
		"/v1/containers/:id/exec",
		ContainerExecHandler,
	},

	{
		"ExecInspect",
		http.MethodGet,
		"/v1/exec/:id/json",
		ExecInspectHandler,
	},

	{
		"ExecResize",
		http.MethodPost,
		"/v1/exec/:id/resize",
		ExecResizeHandler,
	},

	{
		"ExecStart",
		http.MethodPost,
		"/v1/exec/:id/start",
		ExecStartHandler,
	},

	{
		"BuildPrune",
		http.MethodPost,
		"/v1/build/prune",
		BuildPruneHandler,
	},

	{
		"BuildCancel",
		http.MethodPost,
		"/v1/build/cancel",
		BuildCancelHandler,
	},

	{
		"ImageBuild",
		http.MethodPost,
		"/v1/build",
		ImageBuildHandler,
	},

	{
		"ImageCommit",
		http.MethodPost,
		"/v1/commit",
		ImageCommitHandler,
	},

	{
		"ImageCreate",
		http.MethodPost,
		"/v1/images/create",
		ImageCreateHandler,
	},

	{
		"ImageDelete",
		http.MethodDelete,
		"/v1/images/:name",
		ImageDeleteHandler,
	},

	{
		"ImageHistory",
		http.MethodGet,
		"/v1/images/:name/history",
		ImageHistoryHandler,
	},

	{
		"ImageInspect",
		http.MethodGet,
		"/v1/images/:name/json",
		ImageInspectHandler,
	},

	{
		"ImageList",
		http.MethodGet,
		"/v1/images/json",
		ImageListHandler,
	},

	{
		"ImageLoad",
		http.MethodPost,
		"/v1/images/load",
		ImageLoadHandler,
	},

	{
		"ImagePrune",
		http.MethodPost,
		"/v1/images/prune",
		ImagePruneHandler,
	},

	{
		"ImagePush",
		http.MethodPost,
		"/v1/images/:name/push",
		ImagePushHandler,
	},

	{
		"ImageSearch",
		http.MethodGet,
		"/v1/images/search",
		ImageSearchHandler,
	},

	{
		"ImageTag",
		http.MethodPost,
		"/v1/images/:name/tag",
		ImageTagHandler,
	},

	{
		"NetworkConnect",
		http.MethodPost,
		"/v1/networks/:id/connect",
		NetworkConnectHandler,
	},

	{
		"NetworkCreate",
		http.MethodPost,
		"/v1/networks/create",
		NetworkCreateHandler,
	},

	{
		"NetworkDelete",
		http.MethodDelete,
		"/v1/networks/:id",
		NetworkDeleteHandler,
	},

	{
		"NetworkDisconnect",
		http.MethodPost,
		"/v1/networks/:id/disconnect",
		NetworkDisconnectHandler,
	},

	{
		"NetworkInspect",
		http.MethodGet,
		"/v1/networks/:id",
		NetworkInspectHandler,
	},

	{
		"NetworkList",
		http.MethodGet,
		"/v1/networks",
		NetworkListHandler,
	},

	{
		"NetworkPrune",
		http.MethodPost,
		"/v1/networks/prune",
		NetworkPruneHandler,
	},

	{
		"ProjectBuild",
		http.MethodPost,
		"/v1/projects/:name/build",
		ProjectBuildHandler,
	},

	{
		"ProjectCreate",
		http.MethodPost,
		"/v1/projects/:name",
		ProjectCreateHandler,
	},

	{
		"ProjectDown",
		http.MethodPost,
		"/v1/projects/:name/down",
		ProjectDownHandler,
	},

	{
		"ProjectEvents",
		http.MethodGet,
		"/v1/projects/:name/events",
		ProjectEventsHandler,
	},

	{
		"ProjectImages",
		http.MethodGet,
		"/v1/projects/:name/images",
		ProjectImagesHandler,
	},

	{
		"ProjectInspect",
		http.MethodGet,
		"/v1/projects/:name",
		ProjectInspectHandler,
	},

	{
		"ProjectKill",
		http.MethodPost,
		"/v1/projects/:name/kill",
		ProjectKillHandler,
	},

	{
		"ProjectList",
		http.MethodGet,
		"/v1/projects/json",
		ProjectListHandler,
	},

	{
		"ProjectLogs",
		http.MethodGet,
		"/v1/projects/:name/logs",
		ProjectLogsHandler,
	},

	{
		"ProjectPause",
		http.MethodPost,
		"/v1/projects/:name/pause",
		ProjectPauseHandler,
	},

	{
		"ProjectPs",
		http.MethodPost,
		"/v1/projects/:name/ps",
		ProjectPsHandler,
	},

	{
		"ProjectPull",
		http.MethodPost,
		"/v1/projects/:name/pull",
		ProjectPullHandler,
	},

	{
		"ProjectPush",
		http.MethodPost,
		"/v1/projects/:name/push",
		ProjectPushHandler,
	},

	{
		"ProjectRemove",
		http.MethodPost,
		"/v1/projects/:name/rm",
		ProjectRemoveHandler,
	},

	{
		"ProjectRestart",
		http.MethodPost,
		"/v1/projects/:name/restart",
		ProjectRestartHandler,
	},

	{
		"ProjectRun",
		http.MethodPost,
		"/v1/projects/:name/run/:service",
		ProjectRunHandler,
	},

	{
		"ProjectStart",
		http.MethodPost,
		"/v1/projects/:name/start",
		ProjectStartHandler,
	},

	{
		"ProjectStop",
		http.MethodPost,
		"/v1/projects/:name/stop",
		ProjectStopHandler,
	},

	{
		"ProjectTop",
		http.MethodGet,
		"/v1/projects/:name/top",
		ProjectTopHandler,
	},

	{
		"ProjectUnpause",
		http.MethodPost,
		"/v1/projects/:name/unpause",
		ProjectUnpauseHandler,
	},

	{
		"ProjectUp",
		http.MethodPost,
		"/v1/projects/:name/up",
		ProjectUpHandler,
	},

	{
		"SystemDataUsage",
		http.MethodGet,
		"/v1/system/df",
		SystemDataUsageHandler,
	},

	{
		"SystemEvents",
		http.MethodGet,
		"/v1/events",
		SystemEventsHandler,
	},

	{
		"SystemInfo",
		http.MethodGet,
		"/v1/info",
		SystemInfoHandler,
	},

	{
		"SystemPing",
		http.MethodGet,
		"/_ping",
		SystemPingHandler,
	},

	{
		"SystemPingHead",
		http.MethodHead,
		"/_ping",
		SystemPingHeadHandler,
	},

	{
		"SystemPing",
		http.MethodGet,
		"/v1/_ping",
		SystemPingHandler,
	},

	{
		"SystemPingHead",
		http.MethodHead,
		"/v1/_ping",
		SystemPingHeadHandler,
	},

	{
		"SystemVersion",
		http.MethodGet,
		"/v1/version",
		SystemVersionHandler,
	},

	{
		"VolumeCreate",
		http.MethodPost,
		"/v1/volumes/create",
		VolumeCreateHandler,
	},

	{
		"VolumeDelete",
		http.MethodDelete,
		"/v1/volumes/:name",
		VolumeDeleteHandler,
	},

	{
		"VolumeInspect",
		http.MethodGet,
		"/v1/volumes/:name",
		VolumeInspectHandler,
	},

	{
		"VolumeList",
		http.MethodGet,
		"/v1/volumes",
		VolumeListHandler,
	},

	{
		"VolumePrune",
		http.MethodPost,
		"/v1/volumes/prune",
		VolumePruneHandler,
	},

	{
		"NotificationRegister",
		http.MethodPost,
		"/v1/notifications/:event/:token",
		events.RegisterNotificationHandler,
	},

	{
		"NotificationUnregister",
		http.MethodDelete,
		"/v1/notifications/:event/:token",
		events.UnregisterNotificationHandler,
	},

	{
		"NotificationUnregister",
		http.MethodGet,
		"/v1/notifications/:event/:token",
		events.GetNotificationsHandler,
	},
}
